#include <iostream>
using namespace std;

int main() {
    int U[] = {1, 0, 1, 0, 0};
    int V[] = {1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0};

    cout << "Задание 3:" << endl << endl;

    int e1[15][15];

    for (int i = 0; i < 15; i++) {
        for (int j = 0; j < 15; j++) {
            if (i == j) {
                e1[i][j] = 1;
            } else {
                e1[i][j] = 0;
            }
        }
    }

    cout << "e = {" << endl;
    for (int i = 0; i < 15; i++) {
        for (int j = 0; j < 15; j++) {
            cout << e1[i][j] << " ";
        }
        cout << endl;
    }

    cout << "}" << endl << endl;
    int V1[15][15];

    for (int i = 0; i < 15; i++) {
        for (int j = 0; j < 15; j++) {
            V1[i][j] = (V[j] + e1[i][j]) % 2;
        }
    }

    cout << "W1 = {" << endl;
    for (int i = 0; i < 15; i++) {
        for (int j = 0; j < 15; j++) {
            cout << V1[i][j] << " ";
        }
        cout << endl;
    }
    cout << "}" << endl << endl;

    for (int i = 0; i < 15; i++) {
        if ((V1[i][0] + V1[i][1]) % 2 != (V1[i][2] + V1[i][3]) % 2
            != (V1[i][4] + V1[i][5]) % 2 != (V1[i][6] + V1[i][7]) % 2
            != (V1[i][8] + V1[i][9]) % 2 != (V1[i][10] + V1[i][11]) % 2
            != (V1[i][12] + V1[i][13]) % 2 != (V1[i][14] + V1[i][15]) % 2) {
            U[1] = (U[1] + 1) % 2;
        }
        if ((V1[i][0] + V1[i][2]) % 2 != (V1[i][1] + V1[i][3]) % 2
            != (V1[i][4] + V1[i][6]) % 2 != (V1[i][5] + V1[i][7]) % 2
            != (V1[i][8] + V1[i][10]) % 2 != (V1[i][9] + V1[i][11]) % 2
            != (V1[i][12] + V1[i][14]) % 2 != (V1[i][13] + V1[i][15]) % 2) {
            U[2] = (U[2] + 1) % 2;
        }
        if ((V1[i][0] + V1[i][4]) % 2 != (V1[i][1] + V1[i][5]) % 2
            != (V1[i][2] + V1[i][6]) % 2 != (V1[i][3] + V1[i][7]) % 2
            != (V1[i][8] + V1[i][12]) % 2 != (V1[i][9] + V1[i][13]) % 2
            != (V1[i][10] + V1[i][14]) % 2 != (V1[i][11] + V1[i][15]) % 2) {
            U[3] = (U[3] + 1) % 2;
        }
        if ((V1[i][0] + V1[i][8]) % 2 != (V1[i][1] + V1[i][9]) % 2
            != (V1[i][2] + V1[i][10]) % 2 != (V1[i][3] + V1[i][11]) % 2
            != (V1[i][4] + V1[i][12]) % 2 != (V1[i][5] + V1[i][13]) % 2
            != (V1[i][6] + V1[i][14]) % 2 != (V1[i][7] + V1[i][15]) % 2) {
            U[4] = (U[4] + 1) % 2;
        }
        if (U[0] != V1[i][0] != V1[i][1] != V1[i][2] != V1[i][3] != V1[i][4]
            != V1[i][5] != V1[i][6] != V1[i][7] != V1[i][8] != V1[i][9]
            != V1[i][10] != V1[i][11] != V1[i][12] != V1[i][13] != V1[i][14]
            != V1[i][15]) {
            U[0] = (U[0] + 2) % 2;
        }

        cout << "Если ошибка допущена в " << i << " бите, то U = {";

        for (int j = 0; j < 5; j++) {
            if (j < 4) {
                cout << U[j] << " ";
            } else {
                cout << U[j];
            }
        }
        cout << "}" << endl;
    }

    cout << endl;
    cout << "Задание 4:" << endl << endl;
    U[0] = 1;
    U[1] = 0;
    U[2] = 1;
    U[3] = 0;
    U[4] = 0;

    int e2[] = {1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
    int e3[] = {1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
    int e4[] = {1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
    int e5[] = {1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};

    int V2[15];
    int V3[15];
    int V4[15];
    int V5[15];

    cout << "Пример двоичной ошибки:" << endl << endl;
    cout << "e = {";

    for (int i = 0; i < 15; i++) {
        if (i < 14) {
            cout << e2[i] << " ";
        } else {
            cout << e2[i];
        }
    }

    cout << "}" << endl;
    cout << "W = {";

    for (int i = 0; i < 15; i++) {
        V2[i] = (V[i] + e2[i]) % 2;
    }

    for (int i = 0; i < 15; i++) {
        if (i < 14) {
            cout << V2[i] << " ";
        } else {
            cout << V2[i];
        }
    }

    cout << "}" << endl;

    if (U[1] != (V2[0] + V2[1]) % 2 != (V2[2] + V2[3]) % 2
        != (V2[4] + V2[5]) % 2 != (V2[6] + V2[7]) % 2
        != (V2[8] + V2[9]) % 2 != (V2[10] + V2[11]) % 2
        != (V2[12] + V2[13]) % 2 != (V2[14] + V2[15]) % 2) {
        U[1] = (U[1] + 1) % 2;
    }
    if ((V2[0] + V2[2]) % 2 != (V2[1] + V2[3]) % 2
        != (V2[4] + V2[6]) % 2 != (V2[5] + V2[7]) % 2
        != (V2[8] + V2[10]) % 2 != (V2[9] + V2[11]) % 2
        != (V2[12] + V2[14]) % 2 != (V2[13] + V2[15]) % 2) {
        U[2] = (U[2] + 1) % 2;
    }
    if ((V2[0] + V2[4]) % 2 != (V2[1] + V2[5]) % 2
        != (V2[2] + V2[6]) % 2 != (V2[3] + V2[7]) % 2
        != (V2[8] + V2[12]) % 2 != (V2[9] + V2[13]) % 2
        != (V2[10] + V2[14]) % 2 != (V2[11] + V2[15]) % 2) {
        U[3] = (U[3] + 1) % 2;
    }
    if ((V2[0] + V2[8]) % 2 != (V2[1] + V2[9]) % 2
        != (V2[2] + V2[10]) % 2 != (V2[3] + V2[11]) % 2
        != (V2[4] + V2[12]) % 2 != (V2[5] + V2[13]) % 2
        != (V2[6] + V2[14]) % 2 != (V2[7] + V2[15]) % 2) {
        U[4] = (U[4] + 1) % 2;
    }
    if (U[0] != V2[0] != V2[1] != V2[2] != V2[3] != V2[4]
        != V2[5] != V2[6] != V2[7] != V2[8] != V2[9]
        != V2[10] != V2[11] != V2[12] != V2[13] != V2[14]
        != V2[15]) {
        U[0] = (U[0] + 1) % 2;
    }

    cout << "Если ошибка допущена в 0 и 1 битaх, то U = {";

    for (int j = 0; j < 5; j++) {
        if (j < 4) {
            cout << U[j] << " ";
        } else {
            cout << U[j];
        }
    }
    cout << "}" << endl << endl;

    U[0] = 1;
    U[1] = 0;
    U[2] = 1;
    U[3] = 0;
    U[4] = 0;

    cout << "Пример троичной ошибки:" << endl << endl;
    cout << "e = {";

    for (int i = 0; i < 15; i++) {
        if (i < 14) {
            cout << e3[i] << " ";
        } else {
            cout << e3[i];
        }
    }

    cout << "}" << endl;
    cout << "W = {";

    for (int i = 0; i < 15; i++) {
        V3[i] = (V[i] + e3[i]) % 2;
    }

    for (int i = 0; i < 15; i++) {
        if (i < 14) {
            cout << V3[i] << " ";
        } else {
            cout << V3[i];
        }
    }

    cout << "}" << endl;

    if (U[1] != (V3[0] + V3[1]) % 2 != (V3[2] + V3[3]) % 2
        != (V3[4] + V3[5]) % 2 != (V3[6] + V3[7]) % 2
        != (V3[8] + V3[9]) % 2 != (V3[10] + V3[11]) % 2
        != (V3[12] + V3[13]) % 2 != (V3[14] + V3[15]) % 2) {
        U[1] = (U[1] + 1) % 2;
    }
    if ((V3[0] + V3[2]) % 2 != (V3[1] + V3[3]) % 2
        != (V3[4] + V3[6]) % 2 != (V3[5] + V3[7]) % 2
        != (V3[8] + V3[10]) % 2 != (V3[9] + V3[11]) % 2
        != (V3[12] + V3[14]) % 2 != (V3[13] + V3[15]) % 2) {
        U[2] = (U[2] + 1) % 2;
    }
    if ((V3[0] + V3[4]) % 2 != (V3[1] + V3[5]) % 2
        != (V3[2] + V3[6]) % 2 != (V3[3] + V3[7]) % 2
        != (V3[8] + V3[12]) % 2 != (V3[9] + V3[13]) % 2
        != (V3[10] + V3[14]) % 2 != (V3[11] + V3[15]) % 2) {
        U[3] = (U[3] + 1) % 2;
    }
    if ((V3[0] + V3[8]) % 2 != (V3[1] + V3[9]) % 2
        != (V3[2] + V3[10]) % 2 != (V3[3] + V3[11]) % 2
        != (V3[4] + V3[12]) % 2 != (V3[5] + V3[13]) % 2
        != (V3[6] + V3[14]) % 2 != (V3[7] + V3[15]) % 2) {
        U[4] = (U[4] + 1) % 2;
    }
    if (U[0] != V3[0] != V3[1] != V3[2] != V3[3] != V3[4]
        != V3[5] != V3[6] != V3[7] != V3[8] != V3[9]
        != V3[10] != V3[11] != V3[12] != V3[13] != V3[14]
        != V3[15]) {
        U[0] = (U[0] + 1) % 2;
    }

    cout << "Если ошибка допущена в 0, 1 и 2 битaх, то U = {";

    for (int j = 0; j < 5; j++) {
        if (j < 4) {
            cout << U[j] << " ";
        } else {
            cout << U[j];
        }
    }
    cout << "}" << endl << endl;

    U[0] = 1;
    U[1] = 0;
    U[2] = 1;
    U[3] = 0;
    U[4] = 0;

    cout << "Пример 4-ичной ошибки:" << endl << endl;
    cout << "e = {";

    for (int i = 0; i < 15; i++) {
        if (i < 14) {
            cout << e4[i] << " ";
        } else {
            cout << e4[i];
        }
    }

    cout << "}" << endl;
    cout << "W = {";

    for (int i = 0; i < 15; i++) {
        V4[i] = (V[i] + e4[i]) % 2;
    }

    for (int i = 0; i < 15; i++) {
        if (i < 14) {
            cout << V4[i] << " ";
        } else {
            cout << V4[i];
        }
    }

    cout << "}" << endl;

    if (U[1] != (V4[0] + V4[1]) % 2 != (V4[2] + V4[3]) % 2
        != (V4[4] + V4[5]) % 2 != (V4[6] + V4[7]) % 2
        != (V4[8] + V4[9]) % 2 != (V4[10] + V4[11]) % 2
        != (V4[12] + V4[13]) % 2 != (V4[14] + V4[15]) % 2) {
        U[1] = (U[1] + 1) % 2;
    }
    if ((V4[0] + V4[2]) % 2 != (V4[1] + V4[3]) % 2
        != (V4[4] + V4[6]) % 2 != (V4[5] + V4[7]) % 2
        != (V4[8] + V4[10]) % 2 != (V4[9] + V4[11]) % 2
        != (V4[12] + V4[14]) % 2 != (V4[13] + V4[15]) % 2) {
        U[2] = (U[2] + 1) % 2;
    }
    if ((V4[0] + V4[4]) % 2 != (V4[1] + V4[5]) % 2
        != (V4[2] + V4[6]) % 2 != (V4[3] + V4[7]) % 2
        != (V4[8] + V4[12]) % 2 != (V4[9] + V4[13]) % 2
        != (V4[10] + V4[14]) % 2 != (V4[11] + V4[15]) % 2) {
        U[3] = (U[3] + 1) % 2;
    }
    if ((V4[0] + V4[8]) % 2 != (V4[1] + V4[9]) % 2
        != (V4[2] + V4[10]) % 2 != (V4[3] + V4[11]) % 2
        != (V4[4] + V4[12]) % 2 != (V4[5] + V4[13]) % 2
        != (V4[6] + V4[14]) % 2 != (V4[7] + V4[15]) % 2) {
        U[4] = (U[4] + 1) % 2;
    }
    if (U[0] != V4[0] != V4[1] != V4[2] != V4[3] != V4[4]
        != V4[5] != V4[6] != V4[7] != V4[8] != V4[9]
        != V4[10] != V4[11] != V4[12] != V4[13] != V4[14]
        != V4[15]) {
        U[0] = (U[0] + 1) % 2;
    }

    cout << "Если ошибка допущена в 0, 1, 2 и 3 битaх, то U = {";

    for (int j = 0; j < 5; j++) {
        if (j < 4) {
            cout << U[j] << " ";
        } else {
            cout << U[j];
        }
    }
    cout << "}" << endl << endl;

    U[0] = 1;
    U[1] = 0;
    U[2] = 1;
    U[3] = 0;
    U[4] = 0;

    cout << "Пример 5-ичной ошибки:" << endl << endl;
    cout << "e = {";

    for (int i = 0; i < 15; i++) {
        if (i < 14) {
            cout << e5[i] << " ";
        } else {
            cout << e5[i];
        }
    }

    cout << "}" << endl;
    cout << "W = {";

    for (int i = 0; i < 15; i++) {
        V5[i] = (V[i] + e5[i]) % 2;
    }

    for (int i = 0; i < 15; i++) {
        if (i < 14) {
            cout << V5[i] << " ";
        } else {
            cout << V5[i];
        }
    }

    cout << "}" << endl;

    if (U[1] != (V5[0] + V5[1]) % 2 != (V5[2] + V5[3]) % 2
        != (V5[4] + V5[5]) % 2 != (V5[6] + V5[7]) % 2
        != (V5[8] + V5[9]) % 2 != (V5[10] + V5[11]) % 2
        != (V5[12] + V5[13]) % 2 != (V5[14] + V5[15]) % 2) {
        U[1] = (U[1] + 1) % 2;
    }
    if ((V5[0] + V5[2]) % 2 != (V5[1] + V5[3]) % 2
        != (V5[4] + V5[6]) % 2 != (V5[5] + V5[7]) % 2
        != (V5[8] + V5[10]) % 2 != (V5[9] + V5[11]) % 2
        != (V5[12] + V5[14]) % 2 != (V5[13] + V5[15]) % 2) {
        U[2] = (U[2] + 1) % 2;
    }
    if ((V5[0] + V5[4]) % 2 != (V5[1] + V5[5]) % 2
        != (V5[2] + V5[6]) % 2 != (V5[3] + V5[7]) % 2
        != (V5[8] + V5[12]) % 2 != (V5[9] + V5[13]) % 2
        != (V5[10] + V5[14]) % 2 != (V5[11] + V5[15]) % 2) {
        U[3] = (U[3] + 1) % 2;
    }
    if ((V5[0] + V5[8]) % 2 != (V5[1] + V5[9]) % 2
        != (V5[2] + V5[10]) % 2 != (V5[3] + V5[11]) % 2
        != (V5[4] + V5[12]) % 2 != (V5[5] + V5[13]) % 2
        != (V5[6] + V5[14]) % 2 != (V5[7] + V5[15]) % 2) {
        U[4] = (U[4] + 1) % 2;
    }
    if (U[0] != V5[0] != V5[1] != V5[2] != V5[3] != V5[4]
        != V5[5] != V5[6] != V5[7] != V5[8] != V5[9]
        != V5[10] != V5[11] != V5[12] != V5[13] != V5[14]
        != V5[15]) {
        U[0] = (U[0] + 1) % 2;
    }

    cout << "Если ошибка допущена в 0, 1, 2, 3 и 4 битaх, то U = {";

    for (int j = 0; j < 5; j++) {
        if (j < 4) {
            cout << U[j] << " ";
        } else {
            cout << U[j];
        }
    }
    cout << "}" << endl << endl;

    return 0;
}
